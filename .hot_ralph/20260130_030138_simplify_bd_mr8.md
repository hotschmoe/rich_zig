I'll review the recent code changes for the "Syntax: Auto-detect language" task and use the code-simplifier agent to refine them.

Let me first check what was modified.Now let me launch the code-simplifier agent to review and refine the syntax.zig changes.The code-simplifier agent successfully reviewed and simplified the syntax.zig changes. Let me verify the tests passed and check the current state.Tests pass. Let me see the actual diff to confirm the simplifications look good.The simplifications look good. Now let me commit these changes.The code review and simplification is complete.

## Summary

Reviewed the recent "Syntax: Auto-detect language" changes (518 lines added in d3cd8c9) and made the following simplifications:

1. **Whitespace trimming** - Replaced manual character-by-character loop with `std.mem.trimLeft()`

2. **Shebang detection** - Extracted shebang slice once instead of repeating `@min(trimmed.len, 100)` five times, and consolidated shell detection (one "sh" check covers bash/sh/zsh)

3. **Added `defaultSegment()` helper** - Extracted repeated pattern for creating segments with optional default styling, used in 4 places

**Result**: Net reduction of ~15 lines, improved readability. All tests pass. Committed as b7b2ec9.